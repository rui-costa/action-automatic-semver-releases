name: 'Automatic Semver Release'
description: 'Github Semver Automatic Release'
branding:
  icon: 'box'
  color: 'yellow'
inputs:
  TOKEN:
    description: 'Secret token from GitHub'
    required: true
    default: 'null'
  SEMVER:
    description:
      'Which version you want to increment? Use MAJOR, MINOR or PATCH'
    required: false
    default: 'PATCH'
  LABEL:
    description: 'Add Labels. i.e final, alpha, rc'
    required: false
    default: 'null'
  MAIN_BRANCH:
    description: 'The name of your main branch'
    required: false
    default: 'main'
  CHANGELOG_FORMAT:
    description: 'Format of the line to appear on the changelog'
    required: false
    default:
      '- [[%h](https://www.github.com/<<GITHUB_REPOSITORY>>/commit/%H)]: %s\n'
  CHANGELOG_TEXT:
    description: 'Text to include as the changelog'
    required: false
    default: 'null'
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.SEMVER }}
    - ${{ inputs.MAIN_BRANCH }}
    - ${{ inputs.CHANGELOG_FORMAT }}
    - ${{ inputs.TOKEN }}
    - ${{ inputs.CHANGELOG_TEXT }}
    - ${{ inputs.LABEL }}
